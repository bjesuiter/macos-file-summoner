version   = "0.3.2"
env_files = [".env"]

[scripts]
    # SwiftUI build pipeline
    build       = "./scripts/build.sh"
    sign        = "./scripts/notarize.sh dist/File\\ Summoner.app"
    package-dmg = "./scripts/create-dmg.sh dist/File\\ Summoner.app"
    release     = "bx build && bx sign && bx package-dmg"
    clean       = "rm -rf build/ dist/"

    # Go tooling (legacy)
    lint            = "golangci-lint run"
    check-signature = "./scripts/04-check-app-signature.sh"

    # Helper commands
    list-dev-ids.cmd                     = "security find-identity -v -p codesigning"
    list-dev-ids.description             = "List all Developer ID certs"
    check-signature-manually.cmd         = "codesign -dv --verbose=4 \"dist/File Summoner.app\""
    check-signature-manually.description = "Useful command for checking code signature in verbosity level 4 manually"

    # Dummy Commands
    echo.cmd         = "echo ${APPLE_DEVELOPER_ID_CODE}"
    echo.description = "Echo the APPLE_DEVELOPER_ID_CODE environment variable"
